{"ast":null,"code":"import _classCallCheck from \"/Users/mac/duy/coder/design web tt/javascript/test/myapp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mac/duy/coder/design web tt/javascript/test/myapp/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mac/duy/coder/design web tt/javascript/test/myapp/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mac/duy/coder/design web tt/javascript/test/myapp/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mac/duy/coder/design web tt/javascript/test/myapp/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/mac/duy/coder/design web tt/javascript/test/myapp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/mac/duy/coder/design web tt/javascript/test/myapp/src/Header.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { Navbar, FormGroup, Button, FormControl, Nav, NavDropdown, NavItem, MenuItem } from 'react-bootstrap';\nimport Api from './Api';\n\nvar Header =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Header, _Component);\n\n  function Header(props) {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Header).call(this, props));\n    _this.state = {\n      content: [],\n      contentLogin: []\n    };\n    _this.loadCategory = _this.loadCategory.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.loadLogin = _this.loadLogin.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.logout = _this.logout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"loadCategory\",\n    value: function loadCategory() {\n      var _this2 = this;\n\n      Api.get(\"http://127.0.0.1:8000/getAllCategory\", '').then(function (result) {\n        if (result.status) {\n          _this2.setState({\n            content: result.categories\n          });\n        }\n      });\n    }\n  }, {\n    key: \"buildContent\",\n    value: function buildContent() {\n      var _content = [];\n      var cate = this.state.content;\n\n      for (var i in cate) {\n        var href = '/productCateId/' + cate[i].id;\n\n        _content.push(React.createElement(MenuItem, {\n          key: '2.' + i,\n          href: href,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }, cate[i].name));\n      }\n\n      var _cateContent = [];\n\n      _cateContent.push(React.createElement(NavDropdown, {\n        key: 2,\n        title: \"Products\",\n        id: \"mydrop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, _content, React.createElement(MenuItem, {\n        divider: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), React.createElement(MenuItem, {\n        eventKey: 2.5,\n        href: \"/contact\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, \"Contact\")));\n\n      _content.push(React.createElement(MenuItem, {\n        key: '2.' + i,\n        href: \"/video\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"Video\"));\n\n      return _cateContent;\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      localStorage.removeItem(\"tokenCustomer\");\n      window.location.assign('/');\n    }\n  }, {\n    key: \"loadLogin\",\n    value: function loadLogin() {\n      var _this3 = this;\n\n      var checkLogin = localStorage.getItem(\"tokenCustomer\");\n      var _content = [];\n\n      if (checkLogin != null) {\n        var data = {\n          token: checkLogin\n        };\n        Api.get(\"http://127.0.0.1:8000/checkLogin\", data).then(function (result) {\n          if (result.status) {\n            _content.push(React.createElement(Nav, {\n              key: 'login',\n              pullRight: true,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 59\n              },\n              __self: this\n            }, React.createElement(NavDropdown, {\n              id: \"drop\",\n              title: \"Hello \" + result.customer.name,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 60\n              },\n              __self: this\n            }, React.createElement(MenuItem, {\n              href: \"/user\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61\n              },\n              __self: this\n            }, \"My Info\"), React.createElement(MenuItem, {\n              href: \"/cart\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 64\n              },\n              __self: this\n            }, \"My Cart\"), React.createElement(MenuItem, {\n              href: \"/addressBook\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 67\n              },\n              __self: this\n            }, \"My Address Book\")), React.createElement(NavItem, {\n              onClick: _this3.logout,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 71\n              },\n              __self: this\n            }, \"LogOut\")));\n          } else {\n            _content.push(React.createElement(Nav, {\n              key: 'login',\n              pullRight: true,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 76\n              },\n              __self: this\n            }, React.createElement(NavItem, {\n              href: \"/login\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 77\n              },\n              __self: this\n            }, \"Login\"), React.createElement(NavItem, {\n              href: \"/signUpPage\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 80\n              },\n              __self: this\n            }, \"Sign Up\")));\n          }\n\n          _this3.setState({\n            contentLogin: _content\n          });\n        });\n      } else {\n        _content.push(React.createElement(Nav, {\n          key: 'login',\n          pullRight: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, React.createElement(NavItem, {\n          href: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \"Login\"), React.createElement(NavItem, {\n          href: \"/signUpPage\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, \"Sign Up\")));\n\n        this.setState({\n          contentLogin: _content\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadLogin();\n      this.loadCategory();\n\n      window.jQuery('#search').autocomplete({\n        source: function source(request, response) {\n          var data = {\n            term: request.term\n          };\n          Api.get(\"http://127.0.0.1:8000/searchAutoComplete\", data).then(function (rs) {\n            response(window.jQuery.map(rs, function (value, key) {\n              return {\n                label: value.name,\n                value: value.name,\n                id: value.id,\n                image: value.image\n              };\n            }));\n          });\n        },\n        minLength: 1,\n        autoFocus: true,\n        select: function select(ui) {\n          window.jQuery('#search-id').val(ui.item.id);\n          window.jQuery('.search-form').click(function () {\n            window.location.assign('/product/' + window.jQuery('#search-id').val());\n          });\n        }\n      }).data(\"ui-autocomplete\")._renderItem = function (ul, item) {\n        var html = '';\n        var url = '/product/' + item.id;\n        var image = \"/assets/images/product/\" + item.image;\n        html += '<table class=\"directProductDetail\"><input type=\"hidden\" value=' + url + '><tr><td width=\"30%\"><img style=\"width:100px\"src=' + image + '></td><td style=\"color:black\">' + item.value + '</td><td></td></tr></table>';\n        window.jQuery('table').click(function () {\n          window.jQuery('#search-id').val(item.id);\n          var url = window.jQuery(this).children('input').val();\n          window.location.assign(url);\n        });\n        return window.jQuery(\"<li style='list-style-type: none;width:10%'>\").data(\"ui-autocomplete-item\", item).append(html).appendTo(ul);\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"meta\", {\n        name: \"csrf-token\",\n        content: \"{{ csrf_token() }}\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(Navbar.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(Navbar.Brand, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Guitar 4U\")), React.createElement(Navbar.Toggle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      })), React.createElement(Navbar.Collapse, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(NavItem, {\n        eventKey: 1,\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Home\"), this.buildContent()), this.state.contentLogin, React.createElement(Navbar.Form, {\n        pullRight: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        type: \"text\",\n        id: \"search\",\n        placeholder: \"Search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }), React.createElement(FormControl, {\n        type: \"hidden\",\n        id: \"search-id\",\n        name: \"id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      })), React.createElement(Button, {\n        type: \"button\",\n        className: \"search-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Search\")))));\n    }\n  }]);\n\n  return Header;\n}(Component);\n\nexport default Header;","map":{"version":3,"sources":["/Users/mac/duy/coder/design web tt/javascript/test/myapp/src/Header.js"],"names":["React","Component","Navbar","FormGroup","Button","FormControl","Nav","NavDropdown","NavItem","MenuItem","Api","Header","props","state","content","contentLogin","loadCategory","bind","loadLogin","logout","get","then","result","status","setState","categories","_content","cate","i","href","id","push","name","_cateContent","localStorage","removeItem","window","location","assign","checkLogin","getItem","data","token","customer","jQuery","autocomplete","source","request","response","term","rs","map","value","key","label","image","minLength","autoFocus","select","ui","val","item","click","_renderItem","ul","html","url","children","append","appendTo","buildContent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css';\r\nimport {Navbar,FormGroup,Button,FormControl,Nav,NavDropdown,NavItem,MenuItem} from 'react-bootstrap';\r\nimport Api from './Api';\r\nclass Header extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        content: [],\r\n        contentLogin: [],\r\n    }\r\n    this.loadCategory = this.loadCategory.bind(this);\r\n    this.loadLogin = this.loadLogin.bind(this);\r\n    this.logout = this.logout.bind(this);\r\n  }\r\n  \r\n  loadCategory() {\r\n    Api.get(\"http://127.0.0.1:8000/getAllCategory\", '')\r\n        .then((result) => {\r\n            if(result.status){\r\n                this.setState({\r\n                    content:  result.categories,\r\n                });\r\n            }\r\n        })\r\n  }\r\n\r\n  buildContent() {\r\n    let _content = [];\r\n    let cate = this.state.content;\r\n    for(var i in cate) { \r\n      let href = '/productCateId/' +cate[i].id;\r\n      _content.push(<MenuItem key={'2.'+i} href={href}>{cate[i].name}</MenuItem>);\r\n    }\r\n    let _cateContent = [];\r\n    _cateContent.push(<NavDropdown key={2} title=\"Products\" id=\"mydrop\">{_content}<MenuItem divider /><MenuItem eventKey={2.5} href=\"/contact\">Contact</MenuItem></NavDropdown>);\r\n    _content.push(<MenuItem key={'2.'+i} href='/video'>Video</MenuItem>);\r\n    return _cateContent;\r\n  }\r\n\r\n  logout(){\r\n    localStorage.removeItem(\"tokenCustomer\");\r\n    window.location.assign('/');\r\n  }\r\n\r\n  loadLogin(){\r\n    let checkLogin = localStorage.getItem(\"tokenCustomer\");\r\n    let _content = [];\r\n   \r\n    if(checkLogin!= null){\r\n\r\n      let data = {\r\n        token: checkLogin\r\n      }\r\n      Api.get(\"http://127.0.0.1:8000/checkLogin\", data)\r\n              .then((result) => {\r\n                  if(result.status){\r\n                    _content.push(<Nav key={'login'} pullRight>\r\n                        <NavDropdown id=\"drop\"title={\"Hello \"+ result.customer.name}>\r\n                          <MenuItem href=\"/user\">\r\n                            My Info\r\n                          </MenuItem>\r\n                          <MenuItem href=\"/cart\">\r\n                            My Cart\r\n                          </MenuItem>\r\n                          <MenuItem href=\"/addressBook\">\r\n                            My Address Book\r\n                          </MenuItem>\r\n                        </NavDropdown>\r\n                        <NavItem onClick={this.logout}>\r\n                          LogOut\r\n                        </NavItem>\r\n                      </Nav>)\r\n                  }else{\r\n                      _content.push(<Nav key={'login'} pullRight>\r\n                      <NavItem href=\"/login\">\r\n                        Login\r\n                      </NavItem>\r\n                      <NavItem href=\"/signUpPage\">\r\n                        Sign Up\r\n                      </NavItem>\r\n                    </Nav>)\r\n                  }\r\n                  this.setState({\r\n                    contentLogin: _content\r\n                  })\r\n              })\r\n    }else{\r\n      _content.push(<Nav key={'login'} pullRight>\r\n          <NavItem href=\"/login\">\r\n            Login\r\n          </NavItem>\r\n          <NavItem href=\"/signUpPage\">\r\n            Sign Up\r\n          </NavItem>\r\n        </Nav>)\r\n      \r\n      this.setState({\r\n        contentLogin: _content\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadLogin();\r\n    this.loadCategory();\r\n\r\n    window.jQuery('#search').autocomplete({\r\n      source: function (request, response) {\r\n        let data= {\r\n          term: request.term\r\n      }\r\n      Api.get(\"http://127.0.0.1:8000/searchAutoComplete\", data)\r\n        .then((rs) => {\r\n          response(window.jQuery.map(rs, function (value, key) {\r\n            return {\r\n                label: value.name,\r\n                value: value.name,\r\n                id: value.id,\r\n                image: value.image,\r\n            }\r\n          }));\r\n        });\r\n      },\r\n      minLength: 1,\r\n      autoFocus: true,\r\n      select: function (ui) {\r\n        window.jQuery('#search-id').val(ui.item.id);\r\n        window.jQuery('.search-form').click(function(){\r\n        window.location.assign('/product/'+ window.jQuery('#search-id').val());\r\n        });\r\n      },\r\n    }).data(\"ui-autocomplete\")._renderItem = function(ul, item) {\r\n      \r\n      let html = '';\r\n      let url = '/product/'+ item.id;\r\n      let image = \"/assets/images/product/\"+item.image;\r\n      html += '<table class=\"directProductDetail\"><input type=\"hidden\" value='+url+'><tr><td width=\"30%\"><img style=\"width:100px\"src='+image+'></td><td style=\"color:black\">'+item.value+'</td><td></td></tr></table>';\r\n      window.jQuery('table').click(function(){\r\n        window.jQuery('#search-id').val(item.id);\r\n      \r\n        let url = window.jQuery(this).children('input').val();\r\n        window.location.assign(url);\r\n      });\r\n      return  window.jQuery(\"<li style='list-style-type: none;width:10%'>\").data(\"ui-autocomplete-item\", item).append(html).appendTo(ul);\r\n    };\r\n\r\n   \r\n\r\n  \r\n  } \r\n\r\n\r\n  render() {\r\n    return (\r\n      \r\n      <div>\r\n          <meta name=\"csrf-token\" content=\"{{ csrf_token() }}\"></meta>\r\n        <Navbar>\r\n          <Navbar.Header>\r\n            <Navbar.Brand>\r\n              <a  href=\"/\">Guitar 4U</a>\r\n            </Navbar.Brand>\r\n            <Navbar.Toggle />\r\n          </Navbar.Header>\r\n          <Navbar.Collapse>\r\n            <Nav>\r\n              <NavItem eventKey={1} href=\"/\">\r\n                Home\r\n              </NavItem>\r\n              {this.buildContent()}\r\n            </Nav>\r\n            \r\n           \r\n            {this.state.contentLogin}\r\n            <Navbar.Form pullRight >\r\n                <FormGroup >\r\n                  <FormControl type=\"text\" id=\"search\" placeholder=\"Search\" />\r\n                  <FormControl type=\"hidden\" id=\"search-id\" name=\"id\"/>\r\n                </FormGroup>\r\n                <Button type=\"button\" className=\"search-form\" >Search</Button>\r\n              </Navbar.Form>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}